<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Actions Workflow Dashboard - IRR Calculator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 0;
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.8;
            font-size: 1.1em;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .section-header {
            background: #f8f9fa;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: 1px solid #e1e8ed;
        }
        
        .section-content {
            padding: 20px;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .steps-list {
            list-style: none;
            padding: 0;
            counter-reset: step-counter;
        }
        
        .step-item {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .step-item::before {
            content: counter(step-counter);
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 0.9em;
        }
        
        .step-title {
            font-weight: 600;
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .step-description {
            color: #555;
            margin-bottom: 10px;
        }
        
        .step-details {
            font-size: 0.9em;
            color: #777;
        }
        
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        
        .flow-step {
            background: #667eea;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            text-align: center;
            min-width: 120px;
        }
        
        .flow-arrow {
            font-size: 1.5em;
            color: #667eea;
            margin: 0 5px;
        }
        
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
        }
        
        .secret-item, .artifact-item {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 10px;
        }
        
        .artifact-item {
            background: #d1ecf1;
            border-color: #bee5eb;
        }
        
        .purpose-list {
            list-style: none;
            padding: 0;
        }
        
        .purpose-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .purpose-list li:before {
            content: "üéØ";
            margin-right: 10px;
        }
        
        .industries-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .industry-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            border-left: 3px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ GitHub Actions Workflow Dashboard</h1>
            <p>IRR (Internal Rate of Return) Calculation Pipeline</p>
        </div>
        
        <div class="content">
            <!-- Overview Section -->
            <div class="section">
                <div class="section-header">üìã Workflow Overview</div>
                <div class="section-content">
                    <div class="overview-grid">
                        <div class="stat-card">
                            <div class="stat-value">1</div>
                            <div class="stat-label">Total Jobs</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">5</div>
                            <div class="stat-label">Build Steps</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Triggers</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">1</div>
                            <div class="stat-label">Artifacts</div>
                        </div>
                    </div>
                    
                    <h3>Workflow Name</h3>
                    <p><strong>Fetch and compute IRR</strong></p>
                    
                    <h3>Triggers</h3>
                    <div class="tags">
                        <span class="tag">Push Events</span>
                        <span class="tag">Manual Dispatch</span>
                    </div>
                </div>
            </div>
            
            <!-- Purpose Section -->
            <div class="section">
                <div class="section-header">üéØ Workflow Purpose</div>
                <div class="section-content">
                    <p>This workflow automates the IRR (Internal Rate of Return) calculation process for analyzing asset formation disparity in Japan:</p>
                    
                    <ul class="purpose-list">
                        <li>Fetches wage and bonus data from Japan's e-Stat API</li>
                        <li>Downloads global stock index data (ACWI) from Yahoo Finance</li>
                        <li>Calculates IRR for different investment scenarios</li>
                        <li>Simulates monthly investments of wage + bonus/12 for various industries</li>
                        <li>Produces analysis results for asset formation disparity research</li>
                    </ul>
                    
                    <h3>Industries Analyzed</h3>
                    <div class="industries-list">
                        <div class="industry-item">Overall average (all industries)</div>
                        <div class="industry-item">Financial services</div>
                        <div class="industry-item">Mining</div>
                        <div class="industry-item">Information & communications</div>
                        <div class="industry-item">Manufacturing</div>
                    </div>
                </div>
            </div>
            
            <!-- Steps Section -->
            <div class="section">
                <div class="section-header">üìù Step-by-Step Breakdown</div>
                <div class="section-content">
                    <ol class="steps-list">
                        <li class="step-item">
                            <div class="step-title">Checkout Code</div>
                            <div class="step-description">Checks out the repository code</div>
                            <div class="step-details">Action: actions/checkout@v4</div>
                        </li>
                        <li class="step-item">
                            <div class="step-title">Setup Python</div>
                            <div class="step-description">Sets up Python 3.x environment</div>
                            <div class="step-details">Action: actions/setup-python@v4 | Version: 3.x</div>
                        </li>
                        <li class="step-item">
                            <div class="step-title">Install Dependencies</div>
                            <div class="step-description">Installs Python dependencies from requirements.txt</div>
                            <div class="step-details">Command: pip install -r requirements.txt</div>
                        </li>
                        <li class="step-item">
                            <div class="step-title">Run IRR Calculation</div>
                            <div class="step-description">Executes the main IRR calculation script</div>
                            <div class="step-details">Command: python src/fetch_and_compute_irr.py | Env: ESTAT_APP_ID</div>
                        </li>
                        <li class="step-item">
                            <div class="step-title">Upload Results</div>
                            <div class="step-description">Uploads the IRR calculation results as an artifact</div>
                            <div class="step-details">Action: actions/upload-artifact@v3 | Artifact: irr-results</div>
                        </li>
                    </ol>
                </div>
            </div>
            
            <!-- Flow Section -->
            <div class="section">
                <div class="section-header">üîÑ Workflow Execution Flow</div>
                <div class="section-content">
                    <div class="flow-diagram">
                        <div class="flow-step">Trigger</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">Setup Environment</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">Data Collection</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">IRR Processing</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step">Upload Results</div>
                    </div>
                </div>
            </div>
            
            <!-- Secrets & Environment -->
            <div class="section">
                <div class="section-header">üîê Environment & Secrets</div>
                <div class="section-content">
                    <div class="secret-item">
                        <h4>üîë ESTAT_APP_ID</h4>
                        <p>Required secret for accessing Japan's e-Stat API. Must be configured in GitHub repository secrets.</p>
                    </div>
                </div>
            </div>
            
            <!-- Artifacts -->
            <div class="section">
                <div class="section-header">üì¶ Artifacts & Outputs</div>
                <div class="section-content">
                    <div class="artifact-item">
                        <h4>üìä irr-results</h4>
                        <p><strong>File:</strong> data/processed/irr_results.csv</p>
                        <p><strong>Content:</strong> CSV file containing IRR calculation results with analysis of investment returns for different industries and starting years from 2004-2016.</p>
                        <p><strong>Note:</strong> Will migrate to YAML format per project requirements.</p>
                    </div>
                </div>
            </div>
            
            <!-- Technical Details -->
            <div class="section">
                <div class="section-header">üîß Technical Implementation</div>
                <div class="section-content">
                    <h3>Data Sources</h3>
                    <ul>
                        <li><strong>Japan e-Stat API:</strong> Wage and bonus data by industry</li>
                        <li><strong>Yahoo Finance:</strong> ACWI global stock index historical data</li>
                    </ul>
                    
                    <h3>Calculation Method</h3>
                    <ul>
                        <li>Simulates monthly investments of (wage + bonus/12)</li>
                        <li>Uses binary search algorithm for IRR calculation</li>
                        <li>Analyzes investment periods from 2004-2016</li>
                    </ul>
                    
                    <h3>Technology Stack</h3>
                    <div class="tags">
                        <span class="tag">Python 3.x</span>
                        <span class="tag">pandas</span>
                        <span class="tag">requests</span>
                        <span class="tag">yfinance</span>
                        <span class="tag">PyYAML</span>
                        <span class="tag">Ubuntu Latest</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>